2025-10-19 23:31:02.468 -06:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ticket_id], [t].[categoria_id], [t].[cumplimiento_resolucion], [t].[cumplimiento_respuesta], [t].[descripcion], [t].[estado], [t].[fecha_cierre], [t].[fecha_creacion], [t].[prioridad], [t].[tecnico_asignado_id], [t].[titulo], [t].[usuario_solicitante_id], [c].[categoria_id], [c].[activa], [c].[criterio_asignacion], [c].[descripcion], [c].[nombre], [c].[sla_id], [s].[sla_id], [s].[activo], [s].[nombre], [s].[tiempo_resolucion_minutos], [s].[tiempo_respuesta_minutos], [u].[usuario_id], [t0].[tecnico_id], [u0].[usuario_id], [v].[valoracion_id], [e].[etiqueta_id], [e].[activa], [e].[categoria_id], [e].[nombre], [u].[activo], [u].[apellidos], [u].[email], [u].[fecha_creacion], [u].[nombre], [u].[password_hash], [u].[rol], [u].[ultimo_inicio_sesion], [t0].[calificacion_promedio], [t0].[carga_trabajo], [t0].[estado], [t0].[usuario_id], [u0].[activo], [u0].[apellidos], [u0].[email], [u0].[fecha_creacion], [u0].[nombre], [u0].[password_hash], [u0].[rol], [u0].[ultimo_inicio_sesion], [s0].[historial_id], [s0].[estado_anterior], [s0].[estado_nuevo], [s0].[fecha_cambio], [s0].[observaciones], [s0].[ticket_id], [s0].[usuario_id], [s0].[usuario_id0], [s0].[activo], [s0].[apellidos], [s0].[email], [s0].[fecha_creacion], [s0].[nombre], [s0].[password_hash], [s0].[rol], [s0].[ultimo_inicio_sesion], [s0].[imagen_id], [s0].[HistorialEstadoId], [s0].[nombre_archivo], [s0].[ruta_archivo], [s0].[ticket_id0], [i0].[imagen_id], [i0].[HistorialEstadoId], [i0].[nombre_archivo], [i0].[ruta_archivo], [i0].[ticket_id], [v].[comentario], [v].[fecha_valoracion], [v].[puntaje], [v].[ticket_id], [v].[usuario_id]
FROM [TICKET] AS [t]
INNER JOIN [CATEGORIA] AS [c] ON [t].[categoria_id] = [c].[categoria_id]
INNER JOIN [SLA] AS [s] ON [c].[sla_id] = [s].[sla_id]
INNER JOIN [USUARIO] AS [u] ON [t].[usuario_solicitante_id] = [u].[usuario_id]
LEFT JOIN [TECNICO] AS [t0] ON [t].[tecnico_asignado_id] = [t0].[tecnico_id]
LEFT JOIN [USUARIO] AS [u0] ON [t0].[usuario_id] = [u0].[usuario_id]
LEFT JOIN [VALORACION] AS [v] ON [t].[ticket_id] = [v].[ticket_id]
LEFT JOIN [ETIQUETA] AS [e] ON [c].[categoria_id] = [e].[categoria_id]
LEFT JOIN (
    SELECT [h].[historial_id], [h].[estado_anterior], [h].[estado_nuevo], [h].[fecha_cambio], [h].[observaciones], [h].[ticket_id], [h].[usuario_id], [u1].[usuario_id] AS [usuario_id0], [u1].[activo], [u1].[apellidos], [u1].[email], [u1].[fecha_creacion], [u1].[nombre], [u1].[password_hash], [u1].[rol], [u1].[ultimo_inicio_sesion], [i].[imagen_id], [i].[HistorialEstadoId], [i].[nombre_archivo], [i].[ruta_archivo], [i].[ticket_id] AS [ticket_id0]
    FROM [HISTORIAL_ESTADO] AS [h]
    INNER JOIN [USUARIO] AS [u1] ON [h].[usuario_id] = [u1].[usuario_id]
    LEFT JOIN [IMAGEN] AS [i] ON [h].[historial_id] = [i].[HistorialEstadoId]
) AS [s0] ON [t].[ticket_id] = [s0].[ticket_id]
LEFT JOIN [IMAGEN] AS [i0] ON [t].[ticket_id] = [i0].[ticket_id]
ORDER BY [t].[ticket_id], [c].[categoria_id], [s].[sla_id], [u].[usuario_id], [t0].[tecnico_id], [u0].[usuario_id], [v].[valoracion_id], [e].[etiqueta_id], [s0].[historial_id], [s0].[usuario_id0], [s0].[imagen_id]
2025-10-19 23:31:02.575 -06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SupportU.Infraestructure.Data.SupportUContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4da41863-486e-4202-b866-43c3c7464fd2
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4da41863-486e-4202-b866-43c3c7464fd2
Error Number:207,State:1,Class:16
2025-10-19 23:31:03.298 -06:00 [ERR] 
EventId    :4205-251019113103
ErrorList  :Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
StackTrace :   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SupportU.Infraestructure.Repository.Implementations.RepositoryTicket.ListAsync() in C:\Users\PC\source\repos\SupportU\SupportU.Infraestructure\Repository\Implementations\RepositoryTicket.cs:line 19
   at SupportU.Application.Services.Implementations.ServiceTicket.ListAsync() in C:\Users\PC\source\repos\SupportU\SupportU.Application\Services\Implementations\ServiceTicket.cs:line 35
   at SupportU.Web.Controllers.TicketController.Index() in C:\Users\PC\source\repos\SupportU\SupportU\Controllers\TicketController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SupportU.Web.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext context) in C:\Users\PC\source\repos\SupportU\SupportU\Middleware\ErrorHandlingMiddleware.cs:line 22

2025-10-19 23:35:59.253 -06:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ticket_id], [t].[categoria_id], [t].[cumplimiento_resolucion], [t].[cumplimiento_respuesta], [t].[descripcion], [t].[estado], [t].[fecha_cierre], [t].[fecha_creacion], [t].[prioridad], [t].[tecnico_asignado_id], [t].[titulo], [t].[usuario_solicitante_id], [c].[categoria_id], [c].[activa], [c].[criterio_asignacion], [c].[descripcion], [c].[nombre], [c].[sla_id], [s].[sla_id], [s].[activo], [s].[nombre], [s].[tiempo_resolucion_minutos], [s].[tiempo_respuesta_minutos], [u].[usuario_id], [t0].[tecnico_id], [u0].[usuario_id], [v].[valoracion_id], [e].[etiqueta_id], [e].[activa], [e].[categoria_id], [e].[nombre], [u].[activo], [u].[apellidos], [u].[email], [u].[fecha_creacion], [u].[nombre], [u].[password_hash], [u].[rol], [u].[ultimo_inicio_sesion], [t0].[calificacion_promedio], [t0].[carga_trabajo], [t0].[estado], [t0].[usuario_id], [u0].[activo], [u0].[apellidos], [u0].[email], [u0].[fecha_creacion], [u0].[nombre], [u0].[password_hash], [u0].[rol], [u0].[ultimo_inicio_sesion], [s0].[historial_id], [s0].[estado_anterior], [s0].[estado_nuevo], [s0].[fecha_cambio], [s0].[observaciones], [s0].[ticket_id], [s0].[usuario_id], [s0].[usuario_id0], [s0].[activo], [s0].[apellidos], [s0].[email], [s0].[fecha_creacion], [s0].[nombre], [s0].[password_hash], [s0].[rol], [s0].[ultimo_inicio_sesion], [s0].[imagen_id], [s0].[HistorialEstadoId], [s0].[nombre_archivo], [s0].[ruta_archivo], [s0].[ticket_id0], [i0].[imagen_id], [i0].[HistorialEstadoId], [i0].[nombre_archivo], [i0].[ruta_archivo], [i0].[ticket_id], [v].[comentario], [v].[fecha_valoracion], [v].[puntaje], [v].[ticket_id], [v].[usuario_id]
FROM [TICKET] AS [t]
INNER JOIN [CATEGORIA] AS [c] ON [t].[categoria_id] = [c].[categoria_id]
INNER JOIN [SLA] AS [s] ON [c].[sla_id] = [s].[sla_id]
INNER JOIN [USUARIO] AS [u] ON [t].[usuario_solicitante_id] = [u].[usuario_id]
LEFT JOIN [TECNICO] AS [t0] ON [t].[tecnico_asignado_id] = [t0].[tecnico_id]
LEFT JOIN [USUARIO] AS [u0] ON [t0].[usuario_id] = [u0].[usuario_id]
LEFT JOIN [VALORACION] AS [v] ON [t].[ticket_id] = [v].[ticket_id]
LEFT JOIN [ETIQUETA] AS [e] ON [c].[categoria_id] = [e].[categoria_id]
LEFT JOIN (
    SELECT [h].[historial_id], [h].[estado_anterior], [h].[estado_nuevo], [h].[fecha_cambio], [h].[observaciones], [h].[ticket_id], [h].[usuario_id], [u1].[usuario_id] AS [usuario_id0], [u1].[activo], [u1].[apellidos], [u1].[email], [u1].[fecha_creacion], [u1].[nombre], [u1].[password_hash], [u1].[rol], [u1].[ultimo_inicio_sesion], [i].[imagen_id], [i].[HistorialEstadoId], [i].[nombre_archivo], [i].[ruta_archivo], [i].[ticket_id] AS [ticket_id0]
    FROM [HISTORIAL_ESTADO] AS [h]
    INNER JOIN [USUARIO] AS [u1] ON [h].[usuario_id] = [u1].[usuario_id]
    LEFT JOIN [IMAGEN] AS [i] ON [h].[historial_id] = [i].[HistorialEstadoId]
) AS [s0] ON [t].[ticket_id] = [s0].[ticket_id]
LEFT JOIN [IMAGEN] AS [i0] ON [t].[ticket_id] = [i0].[ticket_id]
ORDER BY [t].[ticket_id], [c].[categoria_id], [s].[sla_id], [u].[usuario_id], [t0].[tecnico_id], [u0].[usuario_id], [v].[valoracion_id], [e].[etiqueta_id], [s0].[historial_id], [s0].[usuario_id0], [s0].[imagen_id]
2025-10-19 23:35:59.265 -06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SupportU.Infraestructure.Data.SupportUContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4da41863-486e-4202-b866-43c3c7464fd2
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4da41863-486e-4202-b866-43c3c7464fd2
Error Number:207,State:1,Class:16
2025-10-19 23:35:59.483 -06:00 [ERR] 
EventId    :2393-251019113559
ErrorList  :Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
StackTrace :   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SupportU.Infraestructure.Repository.Implementations.RepositoryTicket.ListAsync() in C:\Users\PC\source\repos\SupportU\SupportU.Infraestructure\Repository\Implementations\RepositoryTicket.cs:line 19
   at SupportU.Application.Services.Implementations.ServiceTicket.ListAsync() in C:\Users\PC\source\repos\SupportU\SupportU.Application\Services\Implementations\ServiceTicket.cs:line 35
   at SupportU.Web.Controllers.TicketController.Index() in C:\Users\PC\source\repos\SupportU\SupportU\Controllers\TicketController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SupportU.Web.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext context) in C:\Users\PC\source\repos\SupportU\SupportU\Middleware\ErrorHandlingMiddleware.cs:line 22

2025-10-19 23:43:26.928 -06:00 [ERR] Failed executing DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ticket_id], [t].[categoria_id], [t].[cumplimiento_resolucion], [t].[cumplimiento_respuesta], [t].[descripcion], [t].[estado], [t].[fecha_cierre], [t].[fecha_creacion], [t].[prioridad], [t].[tecnico_asignado_id], [t].[titulo], [t].[usuario_solicitante_id], [c].[categoria_id], [c].[activa], [c].[criterio_asignacion], [c].[descripcion], [c].[nombre], [c].[sla_id], [s].[sla_id], [s].[activo], [s].[nombre], [s].[tiempo_resolucion_minutos], [s].[tiempo_respuesta_minutos], [u].[usuario_id], [t0].[tecnico_id], [u0].[usuario_id], [v].[valoracion_id], [e].[etiqueta_id], [e].[activa], [e].[categoria_id], [e].[nombre], [u].[activo], [u].[apellidos], [u].[email], [u].[fecha_creacion], [u].[nombre], [u].[password_hash], [u].[rol], [u].[ultimo_inicio_sesion], [t0].[calificacion_promedio], [t0].[carga_trabajo], [t0].[estado], [t0].[usuario_id], [u0].[activo], [u0].[apellidos], [u0].[email], [u0].[fecha_creacion], [u0].[nombre], [u0].[password_hash], [u0].[rol], [u0].[ultimo_inicio_sesion], [s0].[historial_id], [s0].[estado_anterior], [s0].[estado_nuevo], [s0].[fecha_cambio], [s0].[observaciones], [s0].[ticket_id], [s0].[usuario_id], [s0].[usuario_id0], [s0].[activo], [s0].[apellidos], [s0].[email], [s0].[fecha_creacion], [s0].[nombre], [s0].[password_hash], [s0].[rol], [s0].[ultimo_inicio_sesion], [s0].[imagen_id], [s0].[HistorialEstadoId], [s0].[nombre_archivo], [s0].[ruta_archivo], [s0].[ticket_id0], [i0].[imagen_id], [i0].[HistorialEstadoId], [i0].[nombre_archivo], [i0].[ruta_archivo], [i0].[ticket_id], [v].[comentario], [v].[fecha_valoracion], [v].[puntaje], [v].[ticket_id], [v].[usuario_id]
FROM [TICKET] AS [t]
INNER JOIN [CATEGORIA] AS [c] ON [t].[categoria_id] = [c].[categoria_id]
INNER JOIN [SLA] AS [s] ON [c].[sla_id] = [s].[sla_id]
INNER JOIN [USUARIO] AS [u] ON [t].[usuario_solicitante_id] = [u].[usuario_id]
LEFT JOIN [TECNICO] AS [t0] ON [t].[tecnico_asignado_id] = [t0].[tecnico_id]
LEFT JOIN [USUARIO] AS [u0] ON [t0].[usuario_id] = [u0].[usuario_id]
LEFT JOIN [VALORACION] AS [v] ON [t].[ticket_id] = [v].[ticket_id]
LEFT JOIN [ETIQUETA] AS [e] ON [c].[categoria_id] = [e].[categoria_id]
LEFT JOIN (
    SELECT [h].[historial_id], [h].[estado_anterior], [h].[estado_nuevo], [h].[fecha_cambio], [h].[observaciones], [h].[ticket_id], [h].[usuario_id], [u1].[usuario_id] AS [usuario_id0], [u1].[activo], [u1].[apellidos], [u1].[email], [u1].[fecha_creacion], [u1].[nombre], [u1].[password_hash], [u1].[rol], [u1].[ultimo_inicio_sesion], [i].[imagen_id], [i].[HistorialEstadoId], [i].[nombre_archivo], [i].[ruta_archivo], [i].[ticket_id] AS [ticket_id0]
    FROM [HISTORIAL_ESTADO] AS [h]
    INNER JOIN [USUARIO] AS [u1] ON [h].[usuario_id] = [u1].[usuario_id]
    LEFT JOIN [IMAGEN] AS [i] ON [h].[historial_id] = [i].[HistorialEstadoId]
) AS [s0] ON [t].[ticket_id] = [s0].[ticket_id]
LEFT JOIN [IMAGEN] AS [i0] ON [t].[ticket_id] = [i0].[ticket_id]
ORDER BY [t].[ticket_id], [c].[categoria_id], [s].[sla_id], [u].[usuario_id], [t0].[tecnico_id], [u0].[usuario_id], [v].[valoracion_id], [e].[etiqueta_id], [s0].[historial_id], [s0].[usuario_id0], [s0].[imagen_id]
2025-10-19 23:43:27.243 -06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SupportU.Infraestructure.Data.SupportUContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d00f0f26-0762-4d61-9c3e-0436a0cc8b39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d00f0f26-0762-4d61-9c3e-0436a0cc8b39
Error Number:207,State:1,Class:16
2025-10-19 23:43:28.364 -06:00 [ERR] 
EventId    :1486-251019114328
ErrorList  :Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
StackTrace :   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SupportU.Infraestructure.Repository.Implementations.RepositoryTicket.ListAsync() in C:\Users\PC\source\repos\SupportU\SupportU.Infraestructure\Repository\Implementations\RepositoryTicket.cs:line 19
   at SupportU.Application.Services.Implementations.ServiceTicket.ListAsync() in C:\Users\PC\source\repos\SupportU\SupportU.Application\Services\Implementations\ServiceTicket.cs:line 35
   at SupportU.Web.Controllers.TicketController.Index() in C:\Users\PC\source\repos\SupportU\SupportU\Controllers\TicketController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SupportU.Web.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext context) in C:\Users\PC\source\repos\SupportU\SupportU\Middleware\ErrorHandlingMiddleware.cs:line 22

2025-10-19 23:45:20.121 -06:00 [ERR] Failed executing DbCommand (182ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ticket_id], [t].[categoria_id], [t].[cumplimiento_resolucion], [t].[cumplimiento_respuesta], [t].[descripcion], [t].[estado], [t].[fecha_cierre], [t].[fecha_creacion], [t].[prioridad], [t].[tecnico_asignado_id], [t].[titulo], [t].[usuario_solicitante_id], [c].[categoria_id], [c].[activa], [c].[criterio_asignacion], [c].[descripcion], [c].[nombre], [c].[sla_id], [s].[sla_id], [s].[activo], [s].[nombre], [s].[tiempo_resolucion_minutos], [s].[tiempo_respuesta_minutos], [u].[usuario_id], [t0].[tecnico_id], [u0].[usuario_id], [v].[valoracion_id], [e].[etiqueta_id], [e].[activa], [e].[categoria_id], [e].[nombre], [u].[activo], [u].[apellidos], [u].[email], [u].[fecha_creacion], [u].[nombre], [u].[password_hash], [u].[rol], [u].[ultimo_inicio_sesion], [t0].[calificacion_promedio], [t0].[carga_trabajo], [t0].[estado], [t0].[usuario_id], [u0].[activo], [u0].[apellidos], [u0].[email], [u0].[fecha_creacion], [u0].[nombre], [u0].[password_hash], [u0].[rol], [u0].[ultimo_inicio_sesion], [s0].[historial_id], [s0].[estado_anterior], [s0].[estado_nuevo], [s0].[fecha_cambio], [s0].[observaciones], [s0].[ticket_id], [s0].[usuario_id], [s0].[usuario_id0], [s0].[activo], [s0].[apellidos], [s0].[email], [s0].[fecha_creacion], [s0].[nombre], [s0].[password_hash], [s0].[rol], [s0].[ultimo_inicio_sesion], [s0].[imagen_id], [s0].[HistorialEstadoId], [s0].[nombre_archivo], [s0].[ruta_archivo], [s0].[ticket_id0], [i0].[imagen_id], [i0].[HistorialEstadoId], [i0].[nombre_archivo], [i0].[ruta_archivo], [i0].[ticket_id], [v].[comentario], [v].[fecha_valoracion], [v].[puntaje], [v].[ticket_id], [v].[usuario_id]
FROM [TICKET] AS [t]
INNER JOIN [CATEGORIA] AS [c] ON [t].[categoria_id] = [c].[categoria_id]
INNER JOIN [SLA] AS [s] ON [c].[sla_id] = [s].[sla_id]
INNER JOIN [USUARIO] AS [u] ON [t].[usuario_solicitante_id] = [u].[usuario_id]
LEFT JOIN [TECNICO] AS [t0] ON [t].[tecnico_asignado_id] = [t0].[tecnico_id]
LEFT JOIN [USUARIO] AS [u0] ON [t0].[usuario_id] = [u0].[usuario_id]
LEFT JOIN [VALORACION] AS [v] ON [t].[ticket_id] = [v].[ticket_id]
LEFT JOIN [ETIQUETA] AS [e] ON [c].[categoria_id] = [e].[categoria_id]
LEFT JOIN (
    SELECT [h].[historial_id], [h].[estado_anterior], [h].[estado_nuevo], [h].[fecha_cambio], [h].[observaciones], [h].[ticket_id], [h].[usuario_id], [u1].[usuario_id] AS [usuario_id0], [u1].[activo], [u1].[apellidos], [u1].[email], [u1].[fecha_creacion], [u1].[nombre], [u1].[password_hash], [u1].[rol], [u1].[ultimo_inicio_sesion], [i].[imagen_id], [i].[HistorialEstadoId], [i].[nombre_archivo], [i].[ruta_archivo], [i].[ticket_id] AS [ticket_id0]
    FROM [HISTORIAL_ESTADO] AS [h]
    INNER JOIN [USUARIO] AS [u1] ON [h].[usuario_id] = [u1].[usuario_id]
    LEFT JOIN [IMAGEN] AS [i] ON [h].[historial_id] = [i].[HistorialEstadoId]
) AS [s0] ON [t].[ticket_id] = [s0].[ticket_id]
LEFT JOIN [IMAGEN] AS [i0] ON [t].[ticket_id] = [i0].[ticket_id]
ORDER BY [t].[ticket_id], [c].[categoria_id], [s].[sla_id], [u].[usuario_id], [t0].[tecnico_id], [u0].[usuario_id], [v].[valoracion_id], [e].[etiqueta_id], [s0].[historial_id], [s0].[usuario_id0], [s0].[imagen_id]
2025-10-19 23:45:20.420 -06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SupportU.Infraestructure.Data.SupportUContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0983cb88-2707-41da-8e8f-bc5097562090
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0983cb88-2707-41da-8e8f-bc5097562090
Error Number:207,State:1,Class:16
2025-10-19 23:45:21.474 -06:00 [ERR] 
EventId    :2321-251019114521
ErrorList  :Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
StackTrace :   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SupportU.Infraestructure.Repository.Implementations.RepositoryTicket.ListAsync() in C:\Users\PC\source\repos\SupportU\SupportU.Infraestructure\Repository\Implementations\RepositoryTicket.cs:line 19
   at SupportU.Application.Services.Implementations.ServiceTicket.ListAsync() in C:\Users\PC\source\repos\SupportU\SupportU.Application\Services\Implementations\ServiceTicket.cs:line 35
   at SupportU.Web.Controllers.TicketController.Index() in C:\Users\PC\source\repos\SupportU\SupportU\Controllers\TicketController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SupportU.Web.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext context) in C:\Users\PC\source\repos\SupportU\SupportU\Middleware\ErrorHandlingMiddleware.cs:line 22

2025-10-19 23:56:47.046 -06:00 [ERR] 
EventId    :4756-251019115646
ErrorList  :The expression 't.Categoria.Nombre' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
StackTrace :   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SupportU.Infraestructure.Repository.Implementations.RepositoryTicket.ListAsync() in C:\Users\PC\source\repos\SupportU\SupportU.Infraestructure\Repository\Implementations\RepositoryTicket.cs:line 19
   at SupportU.Application.Services.Implementations.ServiceTicket.ListAsync() in C:\Users\PC\source\repos\SupportU\SupportU.Application\Services\Implementations\ServiceTicket.cs:line 35
   at SupportU.Web.Controllers.TicketController.Index() in C:\Users\PC\source\repos\SupportU\SupportU\Controllers\TicketController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SupportU.Web.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext context) in C:\Users\PC\source\repos\SupportU\SupportU\Middleware\ErrorHandlingMiddleware.cs:line 22

2025-10-19 23:59:47.853 -06:00 [ERR] Failed executing DbCommand (171ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ticket_id], [t].[categoria_id], [t].[cumplimiento_resolucion], [t].[cumplimiento_respuesta], [t].[descripcion], [t].[estado], [t].[fecha_cierre], [t].[fecha_creacion], [t].[prioridad], [t].[tecnico_asignado_id], [t].[titulo], [t].[usuario_solicitante_id], [c].[categoria_id], [c].[activa], [c].[criterio_asignacion], [c].[descripcion], [c].[nombre], [c].[sla_id], [s].[sla_id], [s].[activo], [s].[nombre], [s].[tiempo_resolucion_minutos], [s].[tiempo_respuesta_minutos], [u].[usuario_id], [t0].[tecnico_id], [u0].[usuario_id], [v].[valoracion_id], [e].[etiqueta_id], [e].[activa], [e].[categoria_id], [e].[nombre], [u].[activo], [u].[apellidos], [u].[email], [u].[fecha_creacion], [u].[nombre], [u].[password_hash], [u].[rol], [u].[ultimo_inicio_sesion], [t0].[calificacion_promedio], [t0].[carga_trabajo], [t0].[estado], [t0].[usuario_id], [u0].[activo], [u0].[apellidos], [u0].[email], [u0].[fecha_creacion], [u0].[nombre], [u0].[password_hash], [u0].[rol], [u0].[ultimo_inicio_sesion], [s0].[historial_id], [s0].[estado_anterior], [s0].[estado_nuevo], [s0].[fecha_cambio], [s0].[observaciones], [s0].[ticket_id], [s0].[usuario_id], [s0].[usuario_id0], [s0].[activo], [s0].[apellidos], [s0].[email], [s0].[fecha_creacion], [s0].[nombre], [s0].[password_hash], [s0].[rol], [s0].[ultimo_inicio_sesion], [s0].[imagen_id], [s0].[HistorialEstadoId], [s0].[nombre_archivo], [s0].[ruta_archivo], [s0].[ticket_id0], [i0].[imagen_id], [i0].[HistorialEstadoId], [i0].[nombre_archivo], [i0].[ruta_archivo], [i0].[ticket_id], [v].[comentario], [v].[fecha_valoracion], [v].[puntaje], [v].[ticket_id], [v].[usuario_id]
FROM [TICKET] AS [t]
INNER JOIN [CATEGORIA] AS [c] ON [t].[categoria_id] = [c].[categoria_id]
INNER JOIN [SLA] AS [s] ON [c].[sla_id] = [s].[sla_id]
INNER JOIN [USUARIO] AS [u] ON [t].[usuario_solicitante_id] = [u].[usuario_id]
LEFT JOIN [TECNICO] AS [t0] ON [t].[tecnico_asignado_id] = [t0].[tecnico_id]
LEFT JOIN [USUARIO] AS [u0] ON [t0].[usuario_id] = [u0].[usuario_id]
LEFT JOIN [VALORACION] AS [v] ON [t].[ticket_id] = [v].[ticket_id]
LEFT JOIN [ETIQUETA] AS [e] ON [c].[categoria_id] = [e].[categoria_id]
LEFT JOIN (
    SELECT [h].[historial_id], [h].[estado_anterior], [h].[estado_nuevo], [h].[fecha_cambio], [h].[observaciones], [h].[ticket_id], [h].[usuario_id], [u1].[usuario_id] AS [usuario_id0], [u1].[activo], [u1].[apellidos], [u1].[email], [u1].[fecha_creacion], [u1].[nombre], [u1].[password_hash], [u1].[rol], [u1].[ultimo_inicio_sesion], [i].[imagen_id], [i].[HistorialEstadoId], [i].[nombre_archivo], [i].[ruta_archivo], [i].[ticket_id] AS [ticket_id0]
    FROM [HISTORIAL_ESTADO] AS [h]
    INNER JOIN [USUARIO] AS [u1] ON [h].[usuario_id] = [u1].[usuario_id]
    LEFT JOIN [IMAGEN] AS [i] ON [h].[historial_id] = [i].[HistorialEstadoId]
) AS [s0] ON [t].[ticket_id] = [s0].[ticket_id]
LEFT JOIN [IMAGEN] AS [i0] ON [t].[ticket_id] = [i0].[ticket_id]
ORDER BY [t].[ticket_id], [c].[categoria_id], [s].[sla_id], [u].[usuario_id], [t0].[tecnico_id], [u0].[usuario_id], [v].[valoracion_id], [e].[etiqueta_id], [s0].[historial_id], [s0].[usuario_id0], [s0].[imagen_id]
2025-10-19 23:59:48.151 -06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SupportU.Infraestructure.Data.SupportUContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0ac73299-a97d-4ae5-a207-1c05390d13df
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0ac73299-a97d-4ae5-a207-1c05390d13df
Error Number:207,State:1,Class:16
2025-10-19 23:59:49.199 -06:00 [ERR] 
EventId    :4502-251019115949
ErrorList  :Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
Invalid column name 'HistorialEstadoId'.
StackTrace :   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SupportU.Infraestructure.Repository.Implementations.RepositoryTicket.ListAsync() in C:\Users\PC\source\repos\SupportU\SupportU.Infraestructure\Repository\Implementations\RepositoryTicket.cs:line 19
   at SupportU.Application.Services.Implementations.ServiceTicket.ListAsync() in C:\Users\PC\source\repos\SupportU\SupportU.Application\Services\Implementations\ServiceTicket.cs:line 35
   at SupportU.Web.Controllers.TicketController.Index() in C:\Users\PC\source\repos\SupportU\SupportU\Controllers\TicketController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SupportU.Web.Middleware.ErrorHandlingMiddleware.Invoke(HttpContext context) in C:\Users\PC\source\repos\SupportU\SupportU\Middleware\ErrorHandlingMiddleware.cs:line 22

